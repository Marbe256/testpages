title:第3章 遠い記憶の採掘

やがて時は過ぎ、学生を卒業し、就職し、結婚し、子供が生まれ、毎日が日々の生活に追われるようになった。
引越も度重なり、学生の頃に見つけた関係式のメモもどこに行ったか分からず探せずにいた。
つい先日のことです。学生の頃のノート類が入った引越しの段ボールを確認したらメモが出てきた。
6乗まではが書かれていたが、7乗については完成していなかった。
7乗は6乗まで違いはなかなか解けなかったのです。

最近のことですが7乗が解けました。
計算は大変でしたが、愚直に解いただけです。
そして、6乗までとの違いがはっきり見えました。

Σ(n-k)^3k^3に注目する。右辺を計算する。
 Σ(n-k)^3k^3 = Σ(n^3 - 3n^2k + 3nk^2 - k^3)k^3
             = n^3Σk^3 - 3n^2Σk^4 + 3nΣk^5 - Σk^6
             = n^7/140 + n^3/60 - n/42
n^7について解く。
 n^7 = 10n/3 -7n^3/3 + 7!/3!3!Σ(n-k)^3k^3
ということで、解けました。
10n/3 -7n^3/3 という、なんか癖のある項があるので、難かしくなかなか解けなかったのです。

べき乗和については、以下に補足。
7乗の1階差分の式を考えます。
 (k+1)^7-k^7 = 1 + 7xk + 21xk^2 + 35xk^3 + 35xk^4 + 21xk^5 + 7xk^6
k=1,2,...,n-1まで並べます。
 2^7 - 1^7   = 1 + 7x2 + 21x2^2 + 35x2^3 + 35x2^4 + 21x2^5 + 7x2^6
 3^7 - 2^7   = 1 + 7x3 + 21x3^2 + 35x3^3 + 35x3^4 + 21x3^5 + 7x3^6
 ...
 n^7-(n-1)^7 = 1 + 7x1 + 21x1^2 + 35x1^3 + 35x1^4 + 21x1^5 + 7x1^6
すべて足すと。
 n^7 - 1^7   = (n-1) +7xΣk + 21xΣk^2 + 35xΣk^3 + 35xΣk^4 + 21xΣk^5 + 7xΣk^6 (k=1からn-1)
右辺を計算すると、左辺と等しくなる。
(べき乗和については、これまでの計算結果を参照。Σk^5についても6乗の1階差分から導出できる。)
(最近調べて知ったのですが、ベルヌーイの多項式でべき乗和を参照するとよい。先人は素晴らしい…。)

そして、Pythonを使って文字式を計算することを知りました。
少し前にも、マセマティカ(Mathmatica)やサイラボ(Scilab)で色々と計算できることは知って、
スゲーって感動していました。でも、文字式の計算に使うことを考えてなかった。
今回、Pythonをつかって文字式を計算することができて、再びスゲーってなってます。
途中式がなく結果しかわかりませんが、それでも計算の結果は正確です。
計算方法はこんな感じです。
>>> from sympy import *
>>> n = Symbol('n')
>>> k = Symbol('k')
>>> expand(summation(k**3*(n-k)**3,(k,1,n)))
n**7/140 + n**3/60 - n/42

>>> expand(summation(n**3*k**3,(k,1,n-1)) - summation(3*n**2*k**4,(k,1,n-1)) + summation(3*n*k**5,(k,1,n-1)) - summation(k**6,(k,1,n-1)) ) 
n**7/140 + n**3/60 - n/42

式の入力の仕方は、少し独特ですがちゃんと計算してくれます。
Σもsummation()で計算して素晴らしい。






つぎに、Σk^6に注目する。Σk^6はΣ(n-k)^6でもあるので、
Σk^6 = Σ(n-k)^6 (k=1からn-1)
     = Σ(n-k)^3x(n-k)^3
     = Σ(n^3-3n^2k-3nk^2-k^3)x(n-k)^3
     = n^3Σ(n-k)^3-3n^2Σ(n-k)^3k-3nΣ(n-k)^3k^2-Σ(n-k)^3k^3
     = n^3Σk^3-3n^2Σ(n-k)k^3-3nΣ(n-k)^2k^3-Σ(n-k)^3k^3
近道します。

6乗について検討してみる。
5乗の場合は、
 n^5 = n + 5!/4xΣ(n-k)^2k^2
両辺にnをかけると、
 n^6 = n^2 + nx5!/4xΣ(n-k)^2k^2
となる。
Σ(n-k)^2k^3について考察する。
 Σ(n-k)^2k^3 = Σ(n-k)^3k^2
             = Σ(n-k)(n-k)^2k^2
             = nxΣ(n-k)^2k^2 - Σ(n-k)^2k^3
             = n/2xΣ(n-k)^2k^2
Σ(n-k)^2k^2とΣ(n-k)^2k^3から
 n^6 = n^2 + nx5!/4xΣ(n-k)^2k^2
     = n^2 + 5!/2xΣ(n-k)^2k^3
     = n^2 + 6!/12xΣ(n-k)^2k^3
となる。
分母の12に関しては2!x3!と関係がありそう。
6乗については、Σの式の性質を利用した方法で解を導いた。






1階差分について検討してみる。
(k+1)^6 - k^6 = 1 + 6xk + 15xk^2 + 20xk^3 + 15xk^4 + 6xk^5
k=1,2,3,4,...,n-1を順に書くと、
 2^6 - 1^6 = 1 + 6x1 + 15x1^2 + 20x1^3 + 15x1^4 + 6x1^5
 3^6 - 2^6 = 1 + 6x2 + 15x2^2 + 20x2^3 + 15x2^4 + 6x2^5
 4^6 - 3^6 = 1 + 6x3 + 15x3^2 + 20x3^3 + 15x3^4 + 6x3^5
...
 n^6 - (n-1)^6 = 1 + 6x(n-1) + 15x(n-1)^2 + 20x(n-1)^3 + 15x(n-1)^4 + 6x(n-1)^5
上の式の総和は、
 n^6 ^ 1^6 = n-1 + 6xΣk + 15xΣk^2 + 20xΣk^3 + 15xΣk^4 + 6xΣk^5 (k=1からn-1)
 6xΣk^5 = n^6 - ( n + 6xΣk + 15xΣk^2 + 20xΣk^3 + 15xΣk^4 )


遥かなる旅路 (第2章 )

復活の呪文

1=1.
1x2=2.
1x2x3=6.
1x2x3x4=24.
1x2x3x4x...x□=△
△=1x2x3x4x...x□=□!
おはようございます。

進学して受験勉強から、解放されました。
古い計算メモを見ながら、思うのでした。
3乗を並べた数は、6が並んだから、6を沢山足すような操作で元の3乗の数になるのでは…。

(※この先、文字式nと総和Σ(シグマ)を使います。)
1乗を並べた数は、1が並んだから、n番目の数は1!をn回足して、nになる。(まどろっこしい考え方だな…。)
1^1=1 = 1!× 1
2^1=2 = 1!x 2
3^1=3 = 1!x 3
n^1=n = 1!x n = 1!x Σ1 (k=1からn)
1=1!なので、あえて書いてます。
Σ1もあえて書いてます。

2乗の場合は、差を取ると奇数が並ぶ。
 1^2=  1  
 2^2=  4 = 1 + 3
 3^2=  9 = 4 + 5
 4^2= 16 = 9 + 7
 .
 n^2= (n-1)^2 + 1 + 2 x (n-1)
下の行と上の行の式の差を取ります。(このような差を1回差をとることを1階差分と言います。)
 1^2 - 0^2= 1
 2^2 - 1^2= 1 + 2
 3^2 - 2^2= 1 + 4
 4^2 - 3^2= 1 + 6
 .
 n^2 - (n-1)^2= 1 + 2x(n-1)
上の式の総和は、
 n^2 - 0^2= n + 2x(2+4+6+...+2(n-1)) = n + 2!xΣk (k=1からn-1)
 n^2= n + 2!xΣk (k=1からn-1)
2=2!なので、あえて書いてます。
nを加えてますが、n^2を2!の和で書けました。

3乗の場合は、
 1^3=   1  
 2^3=   8 =  1 +  7
 3^3=  27 =  8 + 19
 4^3=  64 = 27 + 37
 n^3= (n-1)^3 + 1 + 6x((1+2+3+...+(n-1)))
下の行と上の行の式の差を取ります。
 1^3 - 0^3= 1  
 2^3 - 1^3= 1 + 6 x 1
 3^3 - 2^3= 1 + 6 x 3
 4^3 - 3^3= 1 + 6 x 6
 .
 n^3 - (n-1)^3= 1 + 6x((1+2+3+...+(n-1)))
上の式の総和は、
 n^3 - 0^3= n + 6x(1+(1+2)+(1+2+3)+...+(1+2+3+...+(n-1)))
          = n + 6x((n-1)+2x(n-2)+3x(n-3)+...+(n-1))
          = n + 6xΣ(n-k)k (k=1からn-1)
 n^3= n + 3!xΣ(n-k)k (k=1からn-1)
nを加えてますが、n^3を3!の和で書けました。

 1^3=   1  
 2^3=   8 =  1 +  7 = 2+ 6x  1
 3^3=  27 =  8 + 19 = 3+ 6x  4
 4^3=  64 = 27 + 37 = 4+ 6x 10
 5^3= 125 = 64 + 61 = 5+ 6x 20
 6^3= 216 =125 + 91 = 6+ 6x 35
 7^3= 343 =216 +127 = 7+ 6x 56
 8^3= 512 =343 +169 = 8+ 6x 84
 9^3= 729 =512 +217 = 9+ 6x120
10^3=1000 =729 +271 =10+ 6x165

順調に進んでいるかに見えた…。

順調に進んでいるかに見えた冒険だが、少し不穏な空気が流れるのであった。

とりあえず、4乗を並べてみる。
 0^4=    0
 1^4=    1  
 2^4=   16
 3^4=   81
 4^4=  256
 5^4=  625
 6^4= 1296
 7^4= 2401
 8^4= 4096
 9^4= 6561
10^4=10000
んーなんやこれ、
上の行で下の行を引いてみる。さらに、式を分ける。
 1^4 - 0^4 =    1 = 1  
 2^4 - 1^4 =   15 = 3 + 12x 1
 3^4 - 2^4 =   65 = 5 + 12x 5 
 4^4 - 3^4 =  175 = 7 + 12x14 
 5^4 - 4^4 =  369 = 9 + 12x30 
一番右の1,5,14,30に注目して、
 1=1^2,5=1^2+2^2,14=1^2+2^2+3^2,30=1^2+2^2+3^2+4^2が並んでいる。
n番目は、
 n^4 - (n-1)^4    = 1 + 2x(n-1) + 12x(1^2+2^2+3^2+...+(n-1)^2)
になりそう。
左辺を普通に展開すると、
 n^4 - (n-1)^4    = 4xn^3 - 6xn^2 + 4xn - 1
になる。
両辺に-(1 + 2x(n-1))を加えて、
 n^4 - (n-1)^4 -(1 + 2x(n-1)) = 4xn^3 - 6xn^2 + 4xn - 1 -(1 + 2x(n-1))
                              = 4xn^3 - 6xn^2 + 4xn - 1 - 1 - 2xn + 2
                              = 4xn^3 - 6xn^2 + 2xn
                              = 12x(n^3/3 - n^2/2 + n/6)
                              = 12xΣk^2 (k=1からn-1)
                              = 12x(1^2+(1^2+2^2)+(1^2+2^2+3^2)+...+(1^2+2^2+3^2+...+(n-1)^2))
一番右の1,5,14,30はΣk^2 (k=1からn-1)で解けました。
ということで、上の1階差分の式を足したら解けそう。
上の1階差分の式の総和は、
 n^4 - 0^4 = n + 2xΣk + 12x(1^2+(1^2+2^2)+(1^2+2^2+3^2)+...+(1^2+2^2+3^2+...+(n-1)^2))
 n^4 = n + 2xΣk + 12xΣ(k^2x(n-k)) (k=1からn-1) = n^2 + 12xΣ(k^2x(n-k)) (k=1からn-1)
解けたはいいけど、12が24なら4!になる...。12を4!/2にして...??
 n^4 = n^2 + 4!/2xΣ(k^2x(n-k)) (k=1からn-1)
ちょっと無理やりですができました。

たまには回り道もいい。
旅は道連れ、世は情け…。(少し振り返り。)
(今後、掛け算を意味するxは省略することがあります。)

kの4乗の時の1階差分は
 k^4 - (k-1)^4 = 4xk^3 - 6xk^2 + 4xk - 1
kに1,2,3,...,nまで入れて
 1^4 - 0^4     = 4x1^3 - 6x1^2 + 4x1 - 1
 2^4 - 1^4     = 4x2^3 - 6x2^2 + 4x2 - 1
 3^4 - 2^4     = 4x3^3 - 6x3^2 + 4x3 - 1
...
 n^4 - (n-1)^4 = 4xn^3 - 6xn^2 + 4xn - 1
上の式の総和は、
 n^4       = 4xΣk^3 - 6Σk^2 + 4xΣk - n (k=1からn)
で表せる。こんな形で表現できる。
 Σk   (k=1からn) = n^2/2 + n/2
 Σk^2 (k=1からn) = n^3/3 + n^2/2 + n/6
 Σk^3 (k=1からn) = n^4/4 + n^3/2 + n^2/4
これらΣの式について、k=0から始まっても0を加えるだけなので結果は変わらない。
k=0でもk=1で始めても結果は同じ。
最終項をk=nにするかk=n-1にするかは少し結果が異なる。
 Σk   (k=1からn) = n + Σk (k=1からn-1) = n^2/2 + n/2
k=n-1にするので最終項の n をΣの外に出す。両辺に -n を加えると
 Σk (k=1からn-1) = n^2/2 - n/2
となる。同様に、
 Σk^2 (k=1からn-1) = n^3/3 - n^2/2 + n/6
 Σk^3 (k=1からn-1) = n^4/4 - n^3/2 + n^2/4
となる。

今度は、Σk^3について考察する。
 Σk^3 (k=1からn-1) = Σ(n-k)^3 (k=0からn-1)
k^3と(n-k)^3では初項と最終項の順序が入れ替わるだけで、総和は同じ。
ここで、Σ(n-k)^3を次のように分解する。
 Σ(n-k)^3 = Σ((n-k)x(n-k)^2) = nxΣ(n-k)^2-Σkx(n-k)^2 (k=0からn-1)
移行すると、
 Σkx(n-k)^2 = nxΣ(n-k)^2 - Σ(n-k)^3 (k=0からn-1)
kと(n-k)は順序が入れ替わるだけなので、
 Σk^2x(n-k) (k=0からn-1) = nxΣk^2 - Σk^3
両辺を12倍して、Σk^2とΣk^3に上の解を代入する
12xΣk^2x(n-k) = 12xnxΣk^2 - 12xΣk^3
                = 12xnx(n^3/3 - n^2/2 + n/6) - 12x(n^4/4 - n^3/2 + n^2/4)
                = n^4-n^2
式を変形すると、
 n^4 = n^2 + 4!/2xΣ(k^2x(n-k)) (k=1からn-1)
4乗の式が解ける。
これを踏まえると、5乗や6乗の式もΣk^4やΣk^5を解くことで表現できそう。

Σk(n-k)^2について考察する。
Σk(n-k)^2を分解すると、
 Σk(n-k)^2 = nxΣk(n-k) - Σk^2(n-k)
Σk^2(n-k)はΣk(n-k)^2と等しいので、
 2xΣk^2(n-k) = nxΣk(n-k)
という関係性が導かれる。
3乗の式
 n^3= n + 3!xΣk(n-k) (k=1からn-1)
を両辺n倍すると、
 n^4= nx(n + 3!xΣk(n-k)) 
    = n^2 + 3!xnxΣk(n-k) (k=1からn-1) 
    = n^2 + 3!x2xΣk^2(n-k) (k=1からn-1)
    = n^2 + 4!/2xΣk^2(n-k) (k=1からn-1)
が求まる。

たまには回り道もいい。

旅は道連れ、世は情け…。(少し振り返り。ひと息入れましょう。)
(今後、掛け算を意味するxは省略することがあります。)

kの4乗の時の1階差分は
 k^4 - (k-1)^4 = 4xk^3 - 6xk^2 + 4xk - 1
kに1,2,3,...,nまで入れて
 1^4 - 0^4     = 4x1^3 - 6x1^2 + 4x1 - 1
 2^4 - 1^4     = 4x2^3 - 6x2^2 + 4x2 - 1
 3^4 - 2^4     = 4x3^3 - 6x3^2 + 4x3 - 1
...
 n^4 - (n-1)^4 = 4xn^3 - 6xn^2 + 4xn - 1
上の式の総和は、
 n^4       = 4xΣk^3 - 6Σk^2 + 4xΣk - n (k=1からn)
で表せる。こんな形で表現できる。
 Σk   (k=1からn) = n^2/2 + n/2
 Σk^2 (k=1からn) = n^3/3 + n^2/2 + n/6
 Σk^3 (k=1からn) = n^4/4 + n^3/2 + n^2/4
これらΣの式について、k=0から始まっても0を加えるだけなので結果は変わらない。
k=0でもk=1で始めても結果は同じ。
最終項をk=nにするかk=n-1にするかは少し結果が異なる。
 Σk   (k=1からn) = n + Σk (k=1からn-1) = n^2/2 + n/2
k=n-1にするので最終項の n をΣの外に出す。両辺に -n を加えると
 Σk (k=1からn-1) = n^2/2 - n/2
となる。同様に、
 Σk^2 (k=1からn-1) = n^3/3 - n^2/2 + n/6
 Σk^3 (k=1からn-1) = n^4/4 - n^3/2 + n^2/4
となる。

今度は、Σk^3について考察する。
 Σk^3 (k=1からn-1) = Σ(n-k)^3 (k=0からn-1)
k^3と(n-k)^3では初項と最終項の順序が入れ替わるだけで、総和は同じ。
ここで、Σ(n-k)^3を次のように分解する。
 Σ(n-k)^3 = Σ((n-k)x(n-k)^2) = nxΣ(n-k)^2-Σkx(n-k)^2 (k=0からn-1)
移行すると、
 Σkx(n-k)^2 = nxΣ(n-k)^2 - Σ(n-k)^3 (k=0からn-1)
kと(n-k)は順序が入れ替わるだけなので、
 Σk^2x(n-k) (k=0からn-1) = nxΣk^2 - Σk^3
両辺を12倍して、Σk^2とΣk^3に上の解を代入する
12xΣk^2x(n-k) = 12xnxΣk^2 - 12xΣk^3
                = 12xnx(n^3/3 - n^2/2 + n/6) - 12x(n^4/4 - n^3/2 + n^2/4)
                = n^4-n^2
式を変形すると、
 n^4 = n^2 + 4!/2xΣ(k^2x(n-k)) (k=1からn-1)
4乗の式が解ける。
これを踏まえると、5乗や6乗の式もΣk^4やΣk^5を解くことで表現できそう。

Σk(n-k)^2について考察する。
Σk(n-k)^2を分解すると、
 Σk(n-k)^2 = nxΣk(n-k) - Σk^2(n-k)
Σk^2(n-k)はΣk(n-k)^2と等しいので、
 2xΣk^2(n-k) = nxΣk(n-k)
という関係性が導かれる。
3乗の式
 n^3= n + 3!xΣk(n-k) (k=1からn-1)
を両辺n倍すると、
 n^4= nx(n + 3!xΣk(n-k)) 
    = n^2 + 3!xnxΣk(n-k) (k=1からn-1) 
    = n^2 + 3!x2xΣk^2(n-k) (k=1からn-1)
    = n^2 + 4!/2xΣk^2(n-k) (k=1からn-1)
が求まる。


尋常じゃない挑戦。

5乗を並べてみる。右側の式の様に30x何かの式に分割する
 1^5=     1  
 2^5=    32 = 2 + 30x   1
 3^5=   243 = 3 + 30x   8
 4^5=  1024 = 4 + 30x  34
 5^5=  3125 = 5 + 30x 104
 6^5=  7776 = 6 + 30x 259
 7^5= 16807 = 7 + 30x 560
 8^5= 32768 = 8 + 30x1092
 9^5= 59049 = 9 + 30x1968
10^5=100000 =10 + 30x3333

一番右の1,8,34,104に注目して、
1=1,8=4+4,34=9+16+9,104=16+36+36+16
もう少し書き換えて、
 1=1
 8=4+4=2x2+2x2
 34=9+16+9=3x3+4x4+3x3
 104=16+36+36+16=4x4+3x3x2x2+2x2x3x3+4x4
さらに書き換えて、
 1=1=1x1x1x1
 8=4+4=2x2+2x2=1x1x2x2+2x2x1x1
 34=9+16+9=3x3+4x4+3x3=1x1x3x3+2x2x2x2+3x3x1x1
 104=16+36+36+16=4x4+3x3x2x2+2x2x3x2+4x4=1x1x4x4+2x2x3x3+3x3x2x2+4x4x1x1
と書ける。259に関しては、
 259=1x1x5x5+2x2x4x4+3x3x3x3+4x4x2x2+5x5x1x1
で書ける。
どうやら、5乗は
 n^5 = n + 30xΣk^2(n-k)^2
となりそう。(おいおい、思いつかんでしょ…。)
5!は120だから、5!/4にしちゃおう。ということで、
 n^5 = n + 5!/4xΣk^2(n-k)^2
で解けました。

5乗の1階差分を考えてみる。
kの1階差分は、
 k^5 - (k-1)^5    = 1 - 5xk + 10xk^2 - 10xk^3 + 5xk^4
で表せる。
k=1,2,3,4,5,…,nを順に書くと、
 1^5 - 0^5 =    1 = 1 - 5x1 + 10x1^2 - 10x1^3 + 5x1^4 
 2^5 - 1^5 =   31 = 1 - 5x2 + 10x2^2 - 10x2^3 + 5x2^4
 3^5 - 2^5 =  211 = 1 - 5x3 + 10x3^2 - 10x3^3 + 5x3^4
 4^5 - 3^5 =  781 = 1 - 5x4 + 10x4^2 - 10x4^3 + 5x4^4
 5^5 - 4^5 = 2101 = 1 - 5x5 + 10x5^2 - 10x5^3 + 5x5^4
 …
 n^5 - (n-1)^5    = 1 - 5xn + 10xn^2 - 10xn^3 + 5xn^4
上の式の総和は、
 n^5 - 0^5 = n - 5xΣk + 10xΣk^2 - 10xΣk^3 + 5xΣk^4 (k=1からn)
5xΣk^4を左辺に持ってきて、
 5xΣk^4 = n^5 - n + 5xΣk - 10xΣk^2 + 10xΣk^3 (k=1からn)
        = n^5 - n + 5( n^2/2 + n/2 ) - 10( n^3/3 + n^2/2 + n/6 ) + 10( n^4/4 + n^3/2 + n^2/4 )
        = n^5 + 5/2xn^4 + 5/3xn^3 - n/6
両辺を5で割って、
 Σk^4 = n^5/5 + n^4/2 + n^3/3 - n/30 (k=1からn)
が求まる。Σk^2(n-k)^2 は変形すると、
 Σk^2(n-k)^2 = n^2xΣk^2(n-k) - 2xnxΣk^3 + Σk^4
             = n^2( n^3/3 + n^2/2 + n/6 ) - 2n( n^4/4 + n^3/2 + n^2/4 ) + ( n^5/5 + n^4/2 + n^3/3 - n/30 )
             = n^5/30 - n/30
で解でました。

kの1階差分は、
 (k+1)^5 - k^5    = 1 + 5xk + 10xk^2 + 10xk^3 + 5xk^4
で表せる。
k=1,2,3,4,5,…,n-1を順に書くと、
 2^5 - 1^5 =    1 = 1 + 5x1 + 10x1^2 + 10x1^3 + 5x1^4 
 3^5 - 2^5 =   31 = 1 + 5x2 + 10x2^2 + 10x2^3 + 5x2^4
 4^5 - 3^5 =  211 = 1 + 5x3 + 10x3^2 + 10x3^3 + 5x3^4
 5^5 - 4^5 =  781 = 1 + 5x4 + 10x4^2 + 10x4^3 + 5x4^4
 6^5 - 5^5 = 2101 = 1 + 5x5 + 10x5^2 + 10x5^3 + 5x5^4
 …
 n^5 - (n-1)^5    = 1 + 5x(n-1) + 10x(n-1)^2 + 10x(n-1)^3 + 5x(n-1)^4
上の式の総和は、
 n^5 - 1^5 = n-1 + 5xΣk + 10xΣk^2 + 10xΣk^3 + 5xΣk^4 (k=1からn-1)
5xΣk^4を左辺に持ってきて、
 5xΣk^4 = n^5 - n - 5xΣk - 10xΣk^2 - 10xΣk^3 (k=1からn-1)
        = n^5 - n - 5( n^2/2 - n/2 ) - 10( n^3/3 - n^2/2 + n/6 ) - 10( n^4/4 - n^3/2 + n^2/4 )
        = n^5 - 5/2xn^4 + 5/3xn^3 - n/6
両辺を5で割って、
 Σk^4 = n^5/5 - n^4/2 + n^3/3 - n/30 (k=1からn-1)
が求まる。Σk^2(n-k)^2 は変形すると、
 Σk^2(n-k)^2 = n^2xΣk^2(n-k) - 2xnxΣk^3 + Σk^4
             = n^2( n^3/3 - n^2/2 + n/6 ) - 2n( n^4/4 - n^3/2 + n^2/4 ) + ( n^5/5 - n^4/2 + n^3/3 - n/30 )
             = n^5/30 - n/30
で解でました。



冒険の書をふり返る

ここまでが、僕の冒険の始まりでした。
中学生の数学の能力では、この問題を確かめるにあたり5の10乗のあたりまでの計算が限界ですよね。
そこは、電卓などを使って確認しました。
僕も、この後、否応が無しに年齢が増して、受験勉強することになりました。
しばらくお休みの期間をむかえるのです。

1乗は、1が並ぶ。
2乗は、2が並ぶ。
3乗は、6が並ぶ。
4乗は、24が並ぶ。
□乗は、△が並ぶ。
…。
1=1.
1x2=2.
1x2x3=6.
1x2x3x4=24.
1x2x3x4x...x□=△
△=1x2x3x4x...x□=□!
(□!を□の階乗と言います。)
なんですね(-.-).zZ、むにゃむにゃ…。

復活の呪文

1=1.
1x2=2.
1x2x3=6.
1x2x3x4=24.
1x2x3x4x...x□=△
△=1x2x3x4x...x□=□!
おはようございます。

第2章 遥かなる旅路

進学して受験勉強から、解放されました。
古い計算メモを見ながら、思うのでした。
3乗を並べた数は、6が並んだから、6を沢山足すような操作で元の3乗の数になるのでは…。
1乗を並べた数は、1が並んだから、n番目の数は1をn回足して、nになる。
1^1=1 = 1!× 1
2^1=2 = 1!x 2
3^1=3 = 1!x 3
n^1=n = 1!x n
2乗の場合は、
 1^2=  1 = 1 + 2* 0
 2^2=  4 = 2 + 2* 1
 3^2=  9 = 3 + 2* 3
 4^2= 16 = 4 + 2* 6
 5^2= 25 = 5 + 2*10
 6^2= 36 = 6 + 2*15
 7^2= 49 = 7 + 2*21
 8^2= 64 = 8 + 2*28
 9^2= 81 = 9 + 2*36
10^2=100 =10 + 2*45
n^2 = n + 2!*Σk
(3の2乗を3^2と表記、×も*で表記)
(Σはシグマ、ここでΣkはk=0からn-1までkを変化させた数の和)
3乗を並べた数は、6が並んだから、6を沢山足すような操作で元の3乗の数になるのでは…。
ということで、それぞれを6で割ってみた。

冒険は展開する

2乗を並べた数は、最終的に2が並んだ。
3乗を並べた数は、最終的に6が並んだ。
というこは…。
4乗だと、最終的に24が並んだ。
5乗だと、最終的に120が並んだ。
6乗だと…!!。7乗だと…!!!。
なんか法則ある…。

 1^5=     1  
 2^5=    32 =    1 +   31 = 2 + 30x   1
 3^5=   243 =   32 +  211 = 3 + 30x   8
 4^5=  1024 =  243 +  781 = 4 + 30x  34
 5^5=  3125 = 1024 + 2101 = 5 + 30x 104
 6^5=  7776 = 3125 + 4651 = 6 + 30x 259
 7^5= 16807 = 7776 + 9031 = 7 + 30x 560
 8^5= 32768 =16807 +15961 = 8 + 30x1092
 9^5= 59049 =32768 +26281 = 9 + 30x1968
10^5=100000 =59049 +40951 =10 + 30x3333



